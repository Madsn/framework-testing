<head>
  <title>postgres-testing</title>
</head>

<body>
  <h1>Welcome to Meteor!</h1>

  {{> hello}}
</body>

<template name="hello">
  {{> addTaskForm}}
  <button id="deleteAll">Delete All</button>
  <style>
    li.checked {
      background-color: lightblue;
    }
  </style>
  <ul>
    {{#each tasks}}
      <li class="{{getCssClass .}}">
        {{text}}
        <input id="{{id}}" type="checkbox" class="toggleDone" checked="{{checked}}">
      </li>
    {{/each}}
  </ul>
</template>

<template name="addTaskForm">
  {{#autoForm schema=addTaskFormSchema id="addTaskForm" type="method" meteormethod="addTask"}}
  <fieldset>
    <legend>Add task</legend>
    {{> afQuickField name="text"}}
    {{> afQuickField name="checked" default="false"}}
    <div>
      <button type="submit" class="btn btn-primary">Submit</button>
      <button type="reset" class="btn btn-default">Reset</button>
    </div>
  </fieldset>
  {{/autoForm}}
</template>
